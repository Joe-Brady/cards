function card(e,n){this.suit=e,this.rank=n}document.addEventListener("DOMContentLoaded",function(e){updateDeckView(),updateDrawnView()});const suits=["clubs","spades","hearts","diamonds"],ranks=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"];var deck=[],drawn=[],suitCounter=0;suits.forEach(function(){var e=0;ranks.forEach(function(){var n=new card(suits[suitCounter],ranks[e]);deck.push(n),e++}),suitCounter++});var shuffleDeck=function(){var e=[],n=deck.length;for(i=0;i<n;i++)e.push(deck.splice(Math.floor(Math.random()*deck.length),1)[0]);return deck=e,updateDeckView(),deck},sortCards=function(e){function n(e){return e.rank==ranks[i]}function t(e){return e.suit==suits[i]}var r=[];for(i=0;i<ranks.length;i++)r.push.apply(r,e.filter(n));var a=[];for(i=0;i<ranks.length;i++)a.push.apply(a,r.filter(t));var d=a;return d},drawCards=function(e){var n=Math.floor(e);if(0==deck){var t="There are no cards left in the deck!";return document.getElementById("draw-error").innerHTML=t,"Error flagged"}if(n>=1&&n<=deck.length){for(i=0;i<n;i++)drawn.push(deck.splice(Math.floor(Math.random()*deck.length),1)[0]);return drawn=sortCards(drawn),document.getElementById("draw-error").innerHTML="",updateDeckView(),updateDrawnView(),drawn}var t="Please enter a number between 1 and "+deck.length;return document.getElementById("draw-error").innerHTML=t,"Error flagged"},returnToDeck=function(e,n){deck.push.apply(deck,drawn.splice(e,n)),updateDeckView(),updateDrawnView()};const suitImages=["assets/club.png","assets/spade.png","assets/heart.png","assets/diamond.png"],bp1Deck='<div class="card overlap"><div class="card-value-section">',bp1Drawn='<div class="card"><div class="card-value-section">',bp2='<div class="left-align"><span>',bp3='</span><img src="',bp4='"></div></div><div class="card-suit-section"><img src="',bp5='"></div><div class="card-value-section mirrored">',bp6='"></div></div></div>';var updateDeckView=function(){var e="";if(0==deck.length)e='<div class="card empty"></div>';else for(i=0;i<deck.length;i++){var n=suits.indexOf(deck[i].suit),t=suitImages[n],r=bp2+deck[i].rank+bp3+t,a=bp1Deck+r+bp4+t+bp5+r+bp6;e+=a}document.getElementById("deck").innerHTML=e},updateDrawnView=function(){var e="";if(0==drawn.length)e='<div class="card empty"></div>';else for(i=0;i<drawn.length;i++){var n=suits.indexOf(drawn[i].suit),t=suitImages[n],r=bp2+drawn[i].rank+bp3+t,a=bp1Drawn+r+bp4+t+bp5+r+bp6;e+=a}document.getElementById("drawn").innerHTML=e};const shuffleDeckButton=document.getElementById("shuffle-deck"),sortDeckButton=document.getElementById("sort-deck"),drawCardsButton=document.getElementById("draw-cards"),foldAllCardsButton=document.getElementById("fold-all-cards");shuffleDeckButton.onclick=function(){shuffleDeck()},sortDeckButton.onclick=function(){deck=sortCards(deck),updateDeckView()},drawCardsButton.onclick=function(){var e=document.getElementById("draw-input").value;drawCards(e),document.getElementById("draw-input").value=1},foldAllCardsButton.onclick=function(){returnToDeck(0,drawn.length)};